<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">How do you decide if you need a custom React hook | dhbalaji, lead design technologist at Sabre</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dhbalaji.dev/blog/How-do-you-decide-if-you-need-a-custom-hook"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="How do you decide if you need a custom React hook | dhbalaji, lead design technologist at Sabre"><meta data-rh="true" name="description" content="React developers"><meta data-rh="true" property="og:description" content="React developers"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-03-06T19:58:46.000Z"><meta data-rh="true" property="article:author" content="https://github.com/dhbalaji"><meta data-rh="true" property="article:tag" content="frontend"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://dhbalaji.dev/blog/How-do-you-decide-if-you-need-a-custom-hook"><link data-rh="true" rel="alternate" href="https://dhbalaji.dev/blog/How-do-you-decide-if-you-need-a-custom-hook" hreflang="en"><link data-rh="true" rel="alternate" href="https://dhbalaji.dev/blog/How-do-you-decide-if-you-need-a-custom-hook" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9TX3UC8FQ4-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://dhbalaji.dev/blog/How-do-you-decide-if-you-need-a-custom-hook","mainEntityOfPage":"https://dhbalaji.dev/blog/How-do-you-decide-if-you-need-a-custom-hook","url":"https://dhbalaji.dev/blog/How-do-you-decide-if-you-need-a-custom-hook","headline":"How do you decide if you need a custom React hook","name":"How do you decide if you need a custom React hook","description":"React developers","datePublished":"2022-03-06T19:58:46.000Z","author":{"@type":"Person","name":"D Balaji","description":"Lead Design Technologist","url":"https://github.com/dhbalaji","image":"https://avatars.githubusercontent.com/u/3672491?v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://dhbalaji.dev/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="dhbalaji.dev feed RSS Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-5T8W8LD",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>




<link rel="alternate" type="application/rss+xml" href="/my-reads/rss.xml" title="dhbalaji, lead design technologist at Sabre RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/my-reads/atom.xml" title="dhbalaji, lead design technologist at Sabre Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VGQ399LJC8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-VGQ399LJC8",{})</script>


<link rel="stylesheet" href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css">
<script src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js" async></script><link rel="stylesheet" href="/assets/css/styles.a306cd8e.css">
<script src="/assets/js/runtime~main.65698ca4.js" defer="defer"></script>
<script src="/assets/js/main.5377ac05.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5T8W8LD" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/3672491?v=4"><div role="region" aria-label="Skip to main content"><a class="skipToContent_UnIC" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_RK3i"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Home</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/experience/portfolio">Portfolio</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Articles</a><a class="navbar__item navbar__link" href="/docs/contact">Contact</a><div class="toggle_yaGj colorModeToggle_N_Rp"><button class="clean-btn toggleButton__9GV toggleButtonDisabled_OqBp" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wUHf lightToggleIcon_aFr1"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wUHf darkToggleIcon_Xbdw"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wUHf systemToggleIcon_Bo_L"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_mMX2"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_Ut2c"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_dBwK thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_Rfvq margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_YY_y">2025</h3><ul class="sidebarItemList_wsSA clean-list"><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/features-found-only-in-business-pc">Consumer vs Business PCs: Why Enterprises Still Pay a Premium</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/applause-to-roasts-my-felicitation-chair-experience">My Role as Felicitation Chair at the Area D5 Joint Meeting</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/react-nexus-2025-3-day-summary-in-25-points">React Nexus 2025 in 25 Points</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/7-years-with-one-employer">14 Years in Tech, 7 Years with One Company: Notes from the Edge of Impermanence</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/new-dad-network-safety-part-2">Digital Discipline 2.0: Mesh Networks, NextDNS, and the Ongoing Battle Against YouTube</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/my-monsoon-laptop-saga">From Tragedy to Triumph: My New Laptop Specs</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/preparing-home-network-before-first-child">Baby on Board, Firewalls Up: A New Dad’s Guide to Internet Hygiene at Home</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/common-it-industry-triffles">Trifles You’ll Spot in Every Tech Team Even In The Age of AI</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_admI">How do you decide if you need a custom React hook</h1><div class="container_kklJ margin-vert--md"><time datetime="2022-03-06T19:58:46.000Z">March 6, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_GsyF"><div class="avatar margin-bottom--sm"><a href="https://github.com/dhbalaji" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_c8fO" src="https://avatars.githubusercontent.com/u/3672491?v=4" alt="D Balaji"></a><div class="avatar__intro authorDetails_mTBX"><div class="avatar__name"><a href="https://github.com/dhbalaji" target="_blank" rel="noopener noreferrer"><span class="authorName_BBD_" translate="no">D Balaji</span></a></div><small class="authorTitle_zTQm" title="Lead Design Technologist">Lead Design Technologist</small><div class="authorSocials_LIU_"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p><img decoding="async" loading="lazy" alt="React developers" src="/assets/images/react-custom-hooks-developers-1cf73ddca36e2f329c3015d6185f7de9.webp" width="1280" height="854" class="img_FerL"></p>
<p>Hundreds of React tutorials and videos directly start with a custom hook. Here is my experience, where I had to write a custom react hook for the first time. Sharing the rationale and logic behind the first custom react hook.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="is-custom-hook-similar-to-js-functions">Is custom hook similar to JS functions?<a href="#is-custom-hook-similar-to-js-functions" class="hash-link" aria-label="Direct link to Is custom hook similar to JS functions?" title="Direct link to Is custom hook similar to JS functions?" translate="no">​</a></h2>
<p>Let us say you have 2 react components that have different JSX but a similar/duplicated hooks logic. The code might be the same or similar <code>useEffect</code> code or similar operations on <code>useState</code>. In that case, we can move the code to a separate React custom hook. This is similar to our <code>util</code> pattern. In the <code>util</code> pattern we pull out code that was written in multiple places into a single module. Then call the functions from the <code>util</code> file. The <code>util</code> pattern is good enough for Javascript but React and react fiber is inefficient. We need custom hooks.</p>
<p>Custom hooks have simple rules, to begin with.</p>
<ol>
<li>The name of the custom hook should start with <code>use</code>.</li>
<li>The custom hook can call/make use of other hooks in its body.</li>
<li>The custom hook can return any data type like normal functions.</li>
</ol>
<p>Writing custom hooks is not different from Javascript functions except for the semantics of the hooks. For instance, the custom hook can be called inside react components, they cannot be inside a branching statement or loop-like any other React hooks. However, we do not have such limitations in <code>util</code> methods.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="why-custom-hook">Why custom hook?<a href="#why-custom-hook" class="hash-link" aria-label="Direct link to Why custom hook?" title="Direct link to Why custom hook?" translate="no">​</a></h2>
<p>The <code>how-to</code> write custom hook has been discussed over and over at conferences and by React influencers many times. In 2022, react developers should be in a position to identify hooks in libraries like <code>nextJS</code>. I mean to say, hooks are everywhere. Be it your office code or inside libraries.</p>
<p>Before you write a custom hook, understand why we need one. It&#x27;s easy to over-engineer the code and make it complex. If your code does not look like a story, something is incorrect.</p>
<blockquote>
<p>When you spot repetitive hooks related code, it&#x27;s an ideal candidate for a custom hook.</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="how-to-test-a-custom-hook">How to test a custom hook?<a href="#how-to-test-a-custom-hook" class="hash-link" aria-label="Direct link to How to test a custom hook?" title="Direct link to How to test a custom hook?" translate="no">​</a></h2>
<p>This is another area where the <code>how-to</code> articles do not meet my expectation. Once you have spotted repetitive React hooks code and built your custom hook. We need to get the hook under the unit test.</p>
<p>The challenge with testing custom hooks comes with the hook&#x27;s semantics. The hooks can be called from react components only. The test case or <code>it block</code> is not a react component so the custom hook cannot be invoked.</p>
<p>In <code>react testing library</code> we have a method called <code>renderHook</code>. According to <a href="https://react-hooks-testing-library.com/reference/api#renderhook" target="_blank" rel="noopener noreferrer">render hook documentation</a>, the <code>renderHook</code> gives a test component or I would say a host component for the custom hook to be rendered.</p>
<p>The return of <code>renderHook</code> is an <code>object</code>.</p>
<div class="language-javascript codeBlockContainer_CY3Z theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_C8Nc"><pre tabindex="0" class="prism-code language-javascript codeBlock_XJTA thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_LxSu"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">all</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Array</span><span class="token operator">&lt;</span><span class="token plain">any</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">current</span><span class="token operator">:</span><span class="token plain"> any</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token literal-property property">error</span><span class="token operator">:</span><span class="token plain"> </span><span class="token known-class-name class-name">Error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary" translate="no">​</a></h2>
<ul>
<li>Deciding on when you should promote your component logic to custom hook is critical for scaling and testing the React code</li>
<li>Writing a custom hook is not scary. It&#x27;s natural like JS functions with some twists.</li>
</ul></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_L0Yz padding--none margin-left--sm"><li class="tag_G85p"><a rel="tag" class="tag_kdqF tagRegular_fNqn" href="/blog/tags/frontend">frontend</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/Day-1-Learning-remix-setup-and-issues-discussed"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Day 1: Learning remix, setup and issues discussed</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/Why-do-we-need-React-forwardRef"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Why do we need React.forwardRef</div></a></nav></main><div class="col col--2"><div class="tableOfContents_uncP thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#is-custom-hook-similar-to-js-functions" class="table-of-contents__link toc-highlight">Is custom hook similar to JS functions?</a></li><li><a href="#why-custom-hook" class="table-of-contents__link toc-highlight">Why custom hook?</a></li><li><a href="#how-to-test-a-custom-hook" class="table-of-contents__link toc-highlight">How to test a custom hook?</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Technical</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/experience/portfolio">Portfolio</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Non Technical</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Articles</a></li><li class="footer__item"><a class="footer__link-item" href="/pr-corner">PR Corner</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact me</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:balaji@dhbalaji.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_GX6I"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/dhbalaji/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_GX6I"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.github.com/dhbalaji/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_GX6I"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 dhbalaji.dev</div></div></div></footer></div>
</body>
</html>