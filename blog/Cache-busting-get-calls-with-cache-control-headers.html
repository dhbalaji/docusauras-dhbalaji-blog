<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Cache busting GET calls with cache-control headers | dhbalaji, lead design technologist at Sabre</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dhbalaji.dev/blog/Cache-busting-get-calls-with-cache-control-headers"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Cache busting GET calls with cache-control headers | dhbalaji, lead design technologist at Sabre"><meta data-rh="true" name="description" content="cache calls"><meta data-rh="true" property="og:description" content="cache calls"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2020-12-09T07:58:41.000Z"><meta data-rh="true" property="article:author" content="https://github.com/dhbalaji"><meta data-rh="true" property="article:tag" content="frontend"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://dhbalaji.dev/blog/Cache-busting-get-calls-with-cache-control-headers"><link data-rh="true" rel="alternate" href="https://dhbalaji.dev/blog/Cache-busting-get-calls-with-cache-control-headers" hreflang="en"><link data-rh="true" rel="alternate" href="https://dhbalaji.dev/blog/Cache-busting-get-calls-with-cache-control-headers" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9TX3UC8FQ4-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://dhbalaji.dev/blog/Cache-busting-get-calls-with-cache-control-headers","mainEntityOfPage":"https://dhbalaji.dev/blog/Cache-busting-get-calls-with-cache-control-headers","url":"https://dhbalaji.dev/blog/Cache-busting-get-calls-with-cache-control-headers","headline":"Cache busting GET calls with cache-control headers","name":"Cache busting GET calls with cache-control headers","description":"cache calls","datePublished":"2020-12-09T07:58:41.000Z","author":{"@type":"Person","name":"D Balaji","description":"Lead Design Technologist","url":"https://github.com/dhbalaji","image":"https://avatars.githubusercontent.com/u/3672491?v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://dhbalaji.dev/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="dhbalaji.dev feed RSS Feed">

<link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var g=t.getElementsByTagName(a)[0],m=t.createElement(a);m.async=!0,m.src="https://www.googletagmanager.com/gtm.js?id=GTM-5T8W8LD",g.parentNode.insertBefore(m,g)}(window,document,"script","dataLayer")</script>




<link rel="alternate" type="application/rss+xml" href="/my-reads/rss.xml" title="dhbalaji, lead design technologist at Sabre RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/my-reads/atom.xml" title="dhbalaji, lead design technologist at Sabre Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VGQ399LJC8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-VGQ399LJC8",{})</script>


<link rel="stylesheet" href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css">
<script src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js" async></script><link rel="stylesheet" href="/assets/css/styles.a306cd8e.css">
<script src="/assets/js/runtime~main.65698ca4.js" defer="defer"></script>
<script src="/assets/js/main.5377ac05.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5T8W8LD" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/3672491?v=4"><div role="region" aria-label="Skip to main content"><a class="skipToContent_UnIC" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_RK3i"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Home</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/experience/portfolio">Portfolio</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Articles</a><a class="navbar__item navbar__link" href="/docs/contact">Contact</a><div class="toggle_yaGj colorModeToggle_N_Rp"><button class="clean-btn toggleButton__9GV toggleButtonDisabled_OqBp" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wUHf lightToggleIcon_aFr1"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wUHf darkToggleIcon_Xbdw"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wUHf systemToggleIcon_Bo_L"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_mMX2"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Meta+k)" aria-keyshortcuts="Meta+k"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 24 24" aria-hidden="true"><circle cx="11" cy="11" r="8" stroke="currentColor" fill="none" stroke-width="1.4"></circle><path d="m21 21-4.3-4.3" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_Ut2c"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_dBwK thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_Rfvq margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_YY_y">2025</h3><ul class="sidebarItemList_wsSA clean-list"><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/features-found-only-in-business-pc">Consumer vs Business PCs: Why Enterprises Still Pay a Premium</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/applause-to-roasts-my-felicitation-chair-experience">My Role as Felicitation Chair at the Area D5 Joint Meeting</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/react-nexus-2025-3-day-summary-in-25-points">React Nexus 2025 in 25 Points</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/7-years-with-one-employer">14 Years in Tech, 7 Years with One Company: Notes from the Edge of Impermanence</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/new-dad-network-safety-part-2">Digital Discipline 2.0: Mesh Networks, NextDNS, and the Ongoing Battle Against YouTube</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/my-monsoon-laptop-saga">From Tragedy to Triumph: My New Laptop Specs</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/preparing-home-network-before-first-child">Baby on Board, Firewalls Up: A New Dad’s Guide to Internet Hygiene at Home</a></li><li class="sidebarItem_y5Rm"><a class="sidebarItemLink_NxJw" href="/blog/2025/common-it-industry-triffles">Trifles You’ll Spot in Every Tech Team Even In The Age of AI</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_admI">Cache busting GET calls with cache-control headers</h1><div class="container_kklJ margin-vert--md"><time datetime="2020-12-09T07:58:41.000Z">December 9, 2020</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_GsyF"><div class="avatar margin-bottom--sm"><a href="https://github.com/dhbalaji" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_c8fO" src="https://avatars.githubusercontent.com/u/3672491?v=4" alt="D Balaji"></a><div class="avatar__intro authorDetails_mTBX"><div class="avatar__name"><a href="https://github.com/dhbalaji" target="_blank" rel="noopener noreferrer"><span class="authorName_BBD_" translate="no">D Balaji</span></a></div><small class="authorTitle_zTQm" title="Lead Design Technologist">Lead Design Technologist</small><div class="authorSocials_LIU_"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p><img decoding="async" loading="lazy" alt="cache calls" src="/assets/images/cachecalls-71b6e4b4ae9f3d378584be651895d7d2.webp" width="1280" height="853" class="img_FerL"></p>
<p>One of the performance optimization techniques is to serve data from the cache and lookup for the network if the cache fails. It&#x27;s called cache first then network strategy. Life moves fast and if the API has to get updated information, it&#x27;s impossible because we are reading the cache always. Is there a way to bypass cache in this setup? Yes, it&#x27;s cache-control headers.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="what-is-cache-in-programming--a-little-bit-about-related-jargon">What is cache in programming &amp; a little bit about related jargon<a href="#what-is-cache-in-programming--a-little-bit-about-related-jargon" class="hash-link" aria-label="Direct link to What is cache in programming &amp; a little bit about related jargon" title="Direct link to What is cache in programming &amp; a little bit about related jargon" translate="no">​</a></h2>
<p>The cache is similar to duplicating a response to use serve the response when required. The cache may be used as-is or after validating for changes from the server.</p>
<p>The place where we store the cache is called <code>store</code>.</p>
<p>Caching about the frontend can happen in the browser, on the server-side, or at the CDN level, we can have caches.</p>
<p>The cache is beneficial only when managed correctly, when it reaches a stage it&#x27;s unmanageable then it will be a problem. A cache should serve the local data only as long as the data at the source has not changed otherwise the user might see old data.</p>
<p>There are 2 types of cache. The private cache is like a private car. To be used by one client. The other variant is the shared cache. The shared cache could be caching the home page on the server which will be served to multiple users.</p>
<blockquote>
<p>HTTP caching is applicable for GET calls &amp; it cannot be applied for other HTTP methods. the URL becomes the key in the cache</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="cache-control-header-whats-that">Cache-Control header? What&#x27;s that?<a href="#cache-control-header-whats-that" class="hash-link" aria-label="Direct link to Cache-Control header? What&#x27;s that?" title="Direct link to Cache-Control header? What&#x27;s that?" translate="no">​</a></h2>
<p>Now that we know the cache &amp; its types. We need a control mechanism for the cache. Its provided by the <code>Cache-Control</code> header.</p>
<p>Before we take more about it, the reader should know what is a header. The header is present in both the request and the response. In the request, it&#x27;s called the request header. On the response, it&#x27;s called the response header. The request header can be modified by JS code in the browser.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="how-to-bust-browser-get-calls-cache">How to bust browser GET calls cache?<a href="#how-to-bust-browser-get-calls-cache" class="hash-link" aria-label="Direct link to How to bust browser GET calls cache?" title="Direct link to How to bust browser GET calls cache?" translate="no">​</a></h2>
<p>The old school way is to ensure the GET call URL looks different or is different.</p>
<ol>
<li>
<p>In webpack we have the hashing of build files so that the URLs are reaching the server to get the new files after the new build.</p>
</li>
<li>
<p>In <code>REST</code> get calls the query param is changed so that the browser thinks it&#x27;s a new request and bypasses cache. For instance, using <code>Date.now()</code> as the query hash. The common versioning by API number is a commonly accepted syntax.</p>
</li>
</ol>
<blockquote>
<p>In the case of browser get calls we cannot do header change to do cache busting, we have to fallback to generate unique URLs.</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="how-to-cache-bust-api-calls-generated-from-code">How to cache bust API Calls generated from code?<a href="#how-to-cache-bust-api-calls-generated-from-code" class="hash-link" aria-label="Direct link to How to cache bust API Calls generated from code?" title="Direct link to How to cache bust API Calls generated from code?" translate="no">​</a></h2>
<p>If you use a package like <code>axios</code> or any other to generate GET calls, we have the API to generate request headers for the API calls dynamically.</p>
<p>For instance, we can set the header to cache bust when the user clicks on the <code>refresh</code> button else get the response from <code>cache</code>.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="what-are-the-header-options-to-no-cache">What are the header options to no cache?<a href="#what-are-the-header-options-to-no-cache" class="hash-link" aria-label="Direct link to What are the header options to no cache?" title="Direct link to What are the header options to no cache?" translate="no">​</a></h2>
<blockquote>
<p>Technically we want to instruct the browser not to store the GET call in the cache. We call it no-store</p>
</blockquote>
<p>We can use <code>Cache-Control: no-store</code>. The request and the response will not be stored. If an existing cache exists, it will be ignored. If you have a request header with <code>no-cache</code>, the request is sent to the server and the full response will be downloaded.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="what-if-we-want-to-validate-the-cache-with-the-server-each-time">What if we want to validate the cache with the server each time?<a href="#what-if-we-want-to-validate-the-cache-with-the-server-each-time" class="hash-link" aria-label="Direct link to What if we want to validate the cache with the server each time?" title="Direct link to What if we want to validate the cache with the server each time?" translate="no">​</a></h2>
<p>We want to serve fresh data as much as possible at the same time use cache if possible. So we use <code>no-cache</code>. Though it sounds confusing at first. <code>no-cache</code> is about checking correctness with the server before using the cache.</p>
<blockquote>
<p>no-cache should technically be called cached but validate each time</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="how-do-i-prevent-a-cache-from-stored-in-public-caches">How do I prevent a cache from stored in public caches<a href="#how-do-i-prevent-a-cache-from-stored-in-public-caches" class="hash-link" aria-label="Direct link to How do I prevent a cache from stored in public caches" title="Direct link to How do I prevent a cache from stored in public caches" translate="no">​</a></h2>
<p>We can enforce rules to cache. For instance, I do not want my bank GET calls to be cached by my ISP. In that case, the developers need to use</p>
<p><code>Cache-Control: private</code></p>
<p>To recap, private means cache for one user. Public means the request can be cached and served for multiple users.</p>
<p><code>Cache-Control: public</code></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="what-if-i-want-my-cache-to-expire-in-one-day">What if I want my cache to expire in one day<a href="#what-if-i-want-my-cache-to-expire-in-one-day" class="hash-link" aria-label="Direct link to What if I want my cache to expire in one day" title="Direct link to What if I want my cache to expire in one day" translate="no">​</a></h2>
<p>We have <code>max-age</code> which takes time value in seconds. If you set the max-age to 3600 seconds. Then the cache is considered for one hour since the request has been initiated.</p>
<p><code>Cache-Control: max-age=3600</code></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="what-if-i-want-my-cache-to-be-private-validated-each-time">What if I want my cache to be private, validated each time<a href="#what-if-i-want-my-cache-to-be-private-validated-each-time" class="hash-link" aria-label="Direct link to What if I want my cache to be private, validated each time" title="Direct link to What if I want my cache to be private, validated each time" translate="no">​</a></h2>
<p>We can separate the values for <code>Cache-Control</code> by a comma.</p>
<p><code>Cache-Control: private, max-age=3600</code></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="whats-the-browser-support">What&#x27;s the browser support<a href="#whats-the-browser-support" class="hash-link" aria-label="Direct link to What&#x27;s the browser support" title="Direct link to What&#x27;s the browser support" translate="no">​</a></h2>
<p><code>Cache-Control</code> was introduced in HTTP 1.1. For backward compatibility, we can use the <code>pragma</code> header.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="can-we-classify-the-data-in-the-cache">Can we classify the data in the cache<a href="#can-we-classify-the-data-in-the-cache" class="hash-link" aria-label="Direct link to Can we classify the data in the cache" title="Direct link to Can we classify the data in the cache" translate="no">​</a></h2>
<p>The cache data can be classified as</p>
<ol>
<li>
<p>Fresh - means its relevant and data has not reached expiry date</p>
</li>
<li>
<p>Stale - it&#x27;s past the expiry date set by the max-age</p>
</li>
</ol>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="how-much-cache-can-we-store-in-the-browser">How much cache can we store in the browser<a href="#how-much-cache-can-we-store-in-the-browser" class="hash-link" aria-label="Direct link to How much cache can we store in the browser" title="Direct link to How much cache can we store in the browser" translate="no">​</a></h2>
<p>There are a few things about cache</p>
<ul>
<li>
<p>Cache is dependent on the resources</p>
</li>
<li>
<p>Not all of my cache will be stored on my browser forever. The cache works in LIFO format. Let&#x27;s say I have a cache key that was not used for a long time. It might get dropped when there is a resource constraint. Technically we call it <code>cache eviction</code>.</p>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="how-does-this-conditional-validation-of-cache-work">How does this conditional validation of cache work<a href="#how-does-this-conditional-validation-of-cache-work" class="hash-link" aria-label="Direct link to How does this conditional validation of cache work" title="Direct link to How does this conditional validation of cache work" translate="no">​</a></h2>
<p>We can trigger a conditional request. Think of it like a ternary operator in JS.</p>
<p><code>const isIndian = hasAadharCard ? true : false; // lol</code></p>
<p>In the above example, based on the <code>hasAadharCard</code> value. We are assigned a boolean to <code>isIndian</code>.</p>
<p>If the request header has an <code>If-None-Match</code> header, then we are triggering a special variant of HTTP call which will get</p>
<ul>
<li>
<p>Full response downloaded when the data has changed on the server. This call is similar to the GET call getting a status code of 200. This change is based on a comparison of the <code>ETag</code> code.</p>
</li>
<li>
<p>No response when the data has not changed on the server. This call gets an empty response because the cache is going to be released in the place of response by the browser. The status code is <code>304</code></p>
</li>
</ul>
<p>behind the scenes, we send an extra header</p>
<p><code>If-none-match: &quot;329772378483289832989328932893298ndo28938293&quot;</code> the code is the <code>ETag</code> code which is sent as part of response header. ETag is like the version number for your cache. If the version number (etag code) matches, then the cache version is used</p>
<blockquote>
<p>When the ETag codes are the same, then we can sure that the cached content is the same byte for byte so we can use the cache on the browser in place of response. That&#x27;s why the server sends a 304 status code.</p>
</blockquote>
<p>Sometimes browsers are smart enough to cache data and compare it with the server without the developer writing any code for caching functionality. But it&#x27;s unreliable so it&#x27;
s better to take better control by setting <code>Cache-Control</code> headers.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="if-header-values-are-comma-separated-whats-the-precedence">If header values are comma-separated, what&#x27;s the precedence<a href="#if-header-values-are-comma-separated-whats-the-precedence" class="hash-link" aria-label="Direct link to If header values are comma-separated, what&#x27;s the precedence" title="Direct link to If header values are comma-separated, what&#x27;s the precedence" translate="no">​</a></h2>
<p>Here are a couple of things to know</p>
<ul>
<li>
<p>Some combination of header values makes it invalid</p>
</li>
<li>
<p>If you have max-age and the value is valid. Let&#x27;s say you set the cache age to 1 year. The data is considered fresh for a whole one year and the data validation does not occur. Unless you have <code>no-cache</code> mentioned.</p>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_jRkz" id="why-does-one-prefer-to-use-cache">Why does one prefer to use cache<a href="#why-does-one-prefer-to-use-cache" class="hash-link" aria-label="Direct link to Why does one prefer to use cache" title="Direct link to Why does one prefer to use cache" translate="no">​</a></h2>
<ul>
<li>
<p>It&#x27;s for performance reasons. The benefits are manifold</p>
</li>
<li>
<p>If the server returns 304, then the transmission of data over wire is reduced. It&#x27;s a performance gain.</p>
</li>
<li>
<p>If an asset is a cache for some time. The subsequent API calls are returned from disk instead of the server. That&#x27;s a huge performance gain.</p>
</li>
<li>
<p>Caching content on the server can be served to multiple users. This is called the public cache.</p>
</li>
</ul></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_L0Yz padding--none margin-left--sm"><li class="tag_G85p"><a rel="tag" class="tag_kdqF tagRegular_fNqn" href="/blog/tags/frontend">frontend</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/WFH-vs-Remote-working"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">WFH vs Remote working &amp; the WFH allowance analysis</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/Understanding-google-data-storage-options-in-GCP"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Understanding google data storage options in GCP</div></a></nav></main><div class="col col--2"><div class="tableOfContents_uncP thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-cache-in-programming--a-little-bit-about-related-jargon" class="table-of-contents__link toc-highlight">What is cache in programming &amp; a little bit about related jargon</a></li><li><a href="#cache-control-header-whats-that" class="table-of-contents__link toc-highlight">Cache-Control header? What&#39;s that?</a></li><li><a href="#how-to-bust-browser-get-calls-cache" class="table-of-contents__link toc-highlight">How to bust browser GET calls cache?</a></li><li><a href="#how-to-cache-bust-api-calls-generated-from-code" class="table-of-contents__link toc-highlight">How to cache bust API Calls generated from code?</a></li><li><a href="#what-are-the-header-options-to-no-cache" class="table-of-contents__link toc-highlight">What are the header options to no cache?</a></li><li><a href="#what-if-we-want-to-validate-the-cache-with-the-server-each-time" class="table-of-contents__link toc-highlight">What if we want to validate the cache with the server each time?</a></li><li><a href="#how-do-i-prevent-a-cache-from-stored-in-public-caches" class="table-of-contents__link toc-highlight">How do I prevent a cache from stored in public caches</a></li><li><a href="#what-if-i-want-my-cache-to-expire-in-one-day" class="table-of-contents__link toc-highlight">What if I want my cache to expire in one day</a></li><li><a href="#what-if-i-want-my-cache-to-be-private-validated-each-time" class="table-of-contents__link toc-highlight">What if I want my cache to be private, validated each time</a></li><li><a href="#whats-the-browser-support" class="table-of-contents__link toc-highlight">What&#39;s the browser support</a></li><li><a href="#can-we-classify-the-data-in-the-cache" class="table-of-contents__link toc-highlight">Can we classify the data in the cache</a></li><li><a href="#how-much-cache-can-we-store-in-the-browser" class="table-of-contents__link toc-highlight">How much cache can we store in the browser</a></li><li><a href="#how-does-this-conditional-validation-of-cache-work" class="table-of-contents__link toc-highlight">How does this conditional validation of cache work</a></li><li><a href="#if-header-values-are-comma-separated-whats-the-precedence" class="table-of-contents__link toc-highlight">If header values are comma-separated, what&#39;s the precedence</a></li><li><a href="#why-does-one-prefer-to-use-cache" class="table-of-contents__link toc-highlight">Why does one prefer to use cache</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Technical</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/experience/portfolio">Portfolio</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Non Technical</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Articles</a></li><li class="footer__item"><a class="footer__link-item" href="/pr-corner">PR Corner</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact me</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:balaji@dhbalaji.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_GX6I"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/dhbalaji/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_GX6I"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.github.com/dhbalaji/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_GX6I"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 dhbalaji.dev</div></div></div></footer></div>
</body>
</html>