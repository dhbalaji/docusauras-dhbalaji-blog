"use strict";(globalThis.webpackChunkblog2=globalThis.webpackChunkblog2||[]).push([[6947],{40178:e=>{e.exports=JSON.parse('{"permalink":"/blog/Simple-feature-switch-ReactJS-component-in-5-lines-of-code","source":"@site/blog/Simple-feature-switch-ReactJS-component-in-5-lines-of-code.md","title":"Simple feature switch ReactJS component in 5 lines of code","description":"React component code","date":"2020-12-14T23:07:11.000Z","tags":[{"inline":true,"label":"frontend","permalink":"/blog/tags/frontend"}],"readingTime":2.91,"hasTruncateMarker":true,"authors":[{"name":"D Balaji","title":"Lead Design Technologist","url":"https://github.com/dhbalaji","imageURL":"https://avatars.githubusercontent.com/u/3672491?v=4","key":"dhbalaji","page":null}],"frontMatter":{"title":"Simple feature switch ReactJS component in 5 lines of code","tags":["frontend"],"date":"2020-12-14T23:07:11.000Z","authors":["dhbalaji"]},"unlisted":false,"prevItem":{"title":"Shell programming, vi & Linux commands from the online course - summary","permalink":"/blog/Shell-programming-vi-commands-from-online-course-summary"},"nextItem":{"title":"Work around for dead laptop keyboard keys in windows 10","permalink":"/blog/Work-around-for-dead-laptop-keyboard-keys-in-windows-10"}}')},70497:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var a=n(96363);const i={},o=a.createContext(i);function s(e){const t=a.useContext(o);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),a.createElement(o.Provider,{value:t},e.children)}},82905:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>h});var a=n(40178),i=n(47259),o=n(70497);const s={title:"Simple feature switch ReactJS component in 5 lines of code",tags:["frontend"],date:new Date("2020-12-14T23:07:11.000Z"),authors:["dhbalaji"]},r=void 0,c={authorsImageUrls:[void 0]},h=[{value:"What is a Feature switch?",id:"what-is-a-feature-switch",level:2},{value:"What are the use cases of feature switch",id:"what-are-the-use-cases-of-feature-switch",level:2},{value:"What are the core parts of a feature-switch component",id:"what-are-the-core-parts-of-a-feature-switch-component",level:2},{value:"Why not use <code>if-else</code> in place of feature-switch",id:"why-not-use-if-else-in-place-of-feature-switch",level:2},{value:"Show me the code.",id:"show-me-the-code",level:2}];function l(e){const t={code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"React component code",src:n(84337).A+"",width:"1261",height:"716"})}),"\n",(0,i.jsxs)(t.p,{children:["Let us say your product is planning to introduce an experimental feature. Your customer may or may not like the feature. In this case, you may have to turn off the feature for some users & turn it on for the rest. This is called A/B testing. But how to build components to conditional render the content. We can build ",(0,i.jsx)(t.code,{children:"feature-switch"})," components."]}),"\n",(0,i.jsx)(t.h2,{id:"what-is-a-feature-switch",children:"What is a Feature switch?"}),"\n",(0,i.jsx)(t.p,{children:"Think of a switch for a light bulb. When you turn on the switch, the light is turned on. When the switch is turned off, the light goes away."}),"\n",(0,i.jsx)(t.p,{children:"Feature switch in software is analogous to the switch in the physical world. The feature switch component has a predicate that will decide if a particular feature is to be rendered or not."}),"\n",(0,i.jsx)(t.h2,{id:"what-are-the-use-cases-of-feature-switch",children:"What are the use cases of feature switch"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Feature switch helps in rapid software development. Till the feature is complete, you can turn off the feature for everyone except the developer working on it."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Feature switches make the software flexible for A/B testing."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Makes development scalable. There is no need to duplicate predicate code to turn a feature on/off in many places of the application."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"what-are-the-core-parts-of-a-feature-switch-component",children:"What are the core parts of a feature-switch component"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"the feature switch component should have a predicate. The predicate is a function that returns a true or false. Based on the predicate we render the component."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"the feature switch should have a target or child component which should be rendered when the predicate returns true."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"the feature switch should be highly reusable with standard props whose data should be available wherever the feature is rendered."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"to get the feature props, you can write a selector and reuse it."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"lastly, the feature switch should be a pure function."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.h2,{id:"why-not-use-if-else-in-place-of-feature-switch",children:["Why not use ",(0,i.jsx)(t.code,{children:"if-else"})," in place of feature-switch"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Feature switch component ensures the code is DRY (Don't Repeat Yourself)."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["If-else is a maintenance nightmare. Developers are often tempted to use ",(0,i.jsx)(t.code,{children:"&&"})," to make the condition complex. Complex if-else conditions make the code harder to read."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["We can write the code to look more ",(0,i.jsx)(t.code,{children:"declarative"})," with components."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"show-me-the-code",children:"Show me the code."}),"\n",(0,i.jsx)(t.p,{children:"Let's build a farm-app that shows the fruits on the physical farm for shoppers in the city. The farm owner wants to experiment with Mango only on a few days of the week. He wants a feature switch functionality so he can show/hide based on some variable value."}),"\n",(0,i.jsx)(t.p,{children:"The Declarative code would be like. The farm owner would be commenting on the code on a few days of the week when he wants to hide the functionality."}),"\n",(0,i.jsx)(t.p,{children:"Code without feature switch, dev needs to comment out the component at many places in code."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"<FarmApp>\n    <Display type={'Apple'} count={500}/>\n    <Display type={'Mango'} count={10}/>\n    /*<Display type={'Guava'} count={30}/>*/\n</FarmApp>\n"})}),"\n",(0,i.jsx)(t.p,{children:"Lets write the feature switch, which is a functional component."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"import React from 'react';\n\nconst YES = true;\nconst NO = false;\n\nconst fruitsOnSale = {\n    Apple: YES,\n    Mango: YES,\n    Guava: NO\n};\n\nconst FruitsDisplaySwitch = (props) => {\n    const {type, children} = props;\n    if (fruitsOnSale[fruitType]) {\n        return <React.Fragment>{children}</React.Fragment>;\n    }\n    return null;\n}\n\nexport default FruitsDisplaySwitch;\n"})}),"\n",(0,i.jsxs)(t.p,{children:["Using the above ",(0,i.jsx)(t.code,{children:"FruitsDisplaySwitch"})," would make our code look like below. The developer need not comment anything to turn ON/OFF. Just change the ",(0,i.jsx)(t.code,{children:"fruitsOnSale"})," object."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",children:"    <FarmApp>\n        <FruitsDisplaySwitch type={'Apple'}>\n            <Display type={'Apple'} count={500}/>\n        </FruitsDisplaySwitch>\n        <FruitsDisplaySwitch type={'Mango'}>\n            <Display type={'Mango'} count={10}/>\n        </FruitsDisplaySwitch>\n        <FruitsDisplaySwitch type={'Guava'}>\n            <Display type={'Guava'} count={30}/>\n        </FruitsDisplaySwitch>\n    </FarmApp>      \n"})})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},84337:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/reactCode-6087add285cadc299f0102b7af234d03.webp"}}]);